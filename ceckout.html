<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Checkout Page</title>
<style>
body {
font-family: Arial, sans-serif;
background-color: #f4f4f4;
margin: 0;
padding: 0;
}
.container {
max-width: 600px;
margin: 50px auto;
background: #fff;
padding: 20px;
text-align: center;
box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
}
.button {
background-color: #4CAF50; /* Green */
border: none;
color: white;
padding: 15px 32px;
text-align: center;
text-decoration: none;
display: inline-block;
font-size: 16px;
margin: 4px 2px;
cursor: pointer;
}
</style>
</head>
<body>

<div class="container">
<h2>Checkout</h2>
<p>Please select the amount you would like to donate:</p>

<!-- Donation options -->
<button class="button">500 Tk</button>
<button class="button">1000 Tk</button>
<button class="button">1500 Tk</button>

<!-- More content can be added here -->

<p>After selecting the amount, you will be redirected to the payment page.</p>
</div>

<script>
    require 'stripe'
require 'sinatra'

# This is your test secret API key.
Stripe.api_key = 'sk_test_51PZzciCyC8OWGlHKE542bwYjZnBTEmCd4nTubWatfDsfQUWXV3pNVe6MDhhYLSJWjwR4CZ9FYNAVCE56cfbIpP2Z00uh7EeZOl'

set :static, true
set :port, 4242

YOUR_DOMAIN = 'http://localhost:4242'

post '/create-checkout-session' do
content_type 'application/json'

session = Stripe::Checkout::Session.create({
line_items: [{
# Replace with the actual price ID from your Stripe Dashboard
price: 'price_1HskYgIF3LHjPmQqPdpXANZq',
quantity: 1,
}],
mode: 'payment',
success_url: YOUR_DOMAIN + '/success.html',
cancel_url: YOUR_DOMAIN + '/cancel.html',
automatic_tax: {enabled: true},
})
redirect session.url, 303
end

// Add your JavaScript code here if needed
</script>

</body>
</html>
